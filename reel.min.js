!function(){"use strict";var e=function(e){this.configure(e||{}),this.bindEvents()};window.Reel=e,e.prototype.configure=function(e){for(var t in this.defaults)this[t]=e[t]||this.defaults[t];this.video=document.querySelector(this.selector)},e.prototype.defaults={selector:'[data-reel="true"]',scrollThreshold:.9},e.prototype.bindEvents=function(){window.addEventListener("resize",this.toggleVideo.bind(this)),window.addEventListener("scroll",this.toggleVideo.bind(this)),["moz","ms","webkit",""].forEach(function(e){var t=e+"visibilitychange";document.addEventListener(t,this.toggleVideo.bind(this))}.bind(this))},e.prototype.playVideo=function(){this.video.paused&&this.video.play()},e.prototype.pauseVideo=function(){this.video.paused||this.video.pause()},e.prototype.toggleVideo=function(){this.isVideoVisible()&&!this.isDocumentHidden()?this.playVideo():this.pauseVideo()},e.prototype.isVideoVisible=function(){var e=this.video.getBoundingClientRect();return e.bottom>=e.height-e.height*this.scrollThreshold},e.prototype.isDocumentHidden=function(){return document.hidden||document.mozHidden||document.msHidden||document.webkitHidden}}();